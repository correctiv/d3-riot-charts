<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>correctiv-simple-charts</title>
</head>
<body>

  <section id="vorstaende-chart--3" class="-centered"></section>

  <script src="../dist/d3-riot-charts.min.js"></script>
  <script type="text/javascript">

var correctivColors = {
  red: '#c81455',
  blue: '#477ba9'
};


renderChart({
  kind: 'barChart',
  elementId: 'vorstaende-chart--3',
  dataUrl: 'data/vorstaende/bezuege_quote_barchart.csv',
  width: 800,
  height: 500,
  xCol: 'name',
  yCol: 'bezuege_quote_zu_2013',
  yLabel: 'Anteil erfolgsabhängiger Bezüge am Grundgehalt in Prozent',
  showXAxis: false,
  color: function(d) {
    return d.state === 'Hessen' ? correctivColors.red : correctivColors.blue;
  },
  filter: function(d) {
    return (d.state === 'Nordrhein-Westfalen') || (d.state === 'Hessen')
  },
  labelCol: 'name',
  tooltip: {
    position: {
      top: 53,
      left: 55
    },
    bodyTempl: '<strong>{sparkasse}</strong>\
        <dl><dt>Quote</dt><dd>{bezuege_quote_str}</dd>\
        <dt>Grundgehalt 2013</dt><dd>{feste_bezuege_2013_str}</dd>\
        <dt>Erfolgsabhängige Bezüge 2014</dt><dd>{erfolgsabhaengige_bezuege_str}</dd>\
        <dt>Position</dt><dd>{position}</dd>\
        <dt>Bundesland</dt><dd>{state}</dd></dl>'
  },
  search: {
    searchCols: ['name', 'sparkasse'],
    position: {
      top: 20,
      right: 30
    },
    description: 'Gib einen Namen oder eine Sparkasse ein',
    resultTempl: '{name} ({sparkasse})'
  },
  drawExtra: function(c) {
    var y = c.yScale(15);
    c.svg.append('svg:line')
      .attr('x1', 0)
      .attr('y1', y)
      .attr('x2', c.width)
      .attr('y2', y)
      .style('stroke', 'black')
      .style('stroke-width', '1')
      .style('stroke-dasharray', '10,10')
      .style('shape-rendering', 'crispEdges');
    c.svg.append('text')
      .attr('y', y - 5)
      .attr('x', c.xScale('Beate Brumberg'))
      .style('text-anchor', 'end')
      .style('font-size', '12px')
      .text('Empfehlung der Sparkassenverbände in NRW: 15 %');
  },
  legend: {
    position: {
      top: 20,
      left: 55
    }
  },
  groupCol: 'state'

});


  </script>
</body>
</html>
