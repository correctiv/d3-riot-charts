<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <!-- <link rel="stylesheet" href="https://correctiv.org/static/CACHE/css/fd09e0dfcaae.css" type="text/css"> -->
  <title>correctiv-simple-charts</title>
</head>
<body>
  <h1>Sparkassen-Vorstandsgehälter</h1>
  <h2>Visualisierungen</h2>
  <ol>
    <li><a href="#vorstaende-chart--1">Durchschnittsgehalt im Vergleich zur Größe der Sparkasse</a></li>
    <li><a href="#vorstaende-chart--2">Durchschnittsgehalts-Niveau Vergleich NRW &amp; Bayern</a></li>
    <li><a href="#vorstaende-chart--3">Quote erfolgsabhängige Bezüge Vergleich NRW &amp; Hessen</a></li>
  </ol>

  <h2>Durchschnittsgehalt im Vergleich zur Größe der Sparkasse</h2>
  <section class="simple-charts">
    <section id="vorstaende-chart--1"></section>
  </section>

  <h2>Durchschnittsgehalts-Niveau Vergleich NRW &amp; Bayern</h2>
  <section class="simple-charts">
    <section id="vorstaende-chart--2"></section>
  </section>

  <h2>Quote erfolgsabhängige Bezüge Vergleich NRW &amp; Hessen</h2>
  <p>Rot: Hessen, Blau: NRW</p>
  <section class="simple-charts">
    <section id="vorstaende-chart--3"></section>
  </section>

  <script src="dist/correctiv-simple-charts.min.js"></script>
  <script type="text/javascript">

var correctivColors = {
  red: '#c81455',
  blue: '#477ba9'
};

renderChart({
  kind: 'scatterChart',
  elementId: 'vorstaende-chart--1',
  dataUrl: 'data/vorstaende/durchschnittsgehalt_scatter.csv',
  width: 800,
  height: 500,
  xCol: 'bemessung_2014',
  yCol: 'durchschnitt_val',
  sizeCol: 'mitarbeiter_2014',
  color: correctivColors.red,
  labelCol: 'sparkasse',
  tooltip: {
    bodyTempl: '<dl>\
      <dt>Durchschnittsgehalt</dt><dd>{durchschnittsgehalt_2014}</dd>\
      <dt>Gesamtbezüge</dt><dd>{gesamtbezuege_2014}</dd>\
      <dt>Bilanzsumme</dt><dd>{bilanzsumme_2014}</dd>\
      <dt>Mitarbeiter</dt><dd>{mitarbeiter_2014}</dd>\
      <dt>Vorstände</dt><dd>{anzahl_vorstaende_2014}</dd></dl>',
    position: {
      bottom: 40,
      right: 20
    }
  },
  search: {
    searchCols: ['sparkasse'],
    position: {
      top: 20,
      right: 20
    },
    description: 'Suche nach Deiner Sparkasse oder Postleitzahl'
  },
  xTicks: 0,
  xLabel: 'Größe der Sparkasse',
  yLabel: 'Durchschnittliches Vorstandsgehalt in T. €'
});


renderChart({
  kind: 'scatterChart',
  elementId: 'vorstaende-chart--2',
  dataUrl: 'data/vorstaende/durchschnittsgehalt_scatter.csv',
  width: 800,
  height: 500,
  xCol: 'bemessung_2014',
  yCol: 'durchschnitt_val',
  sizeCol: 'mitarbeiter_2014',
  color: function(d) {
    return d.state === 'Nordrhein-Westfalen' ? correctivColors.red : correctivColors.blue;
  },
  filter: function(d) {
    return (d.state === 'Nordrhein-Westfalen') || (d.state === 'Bayern')
  },
  labelCol: 'sparkasse',
  tooltip: {
    bodyTempl: '<dl>\
      <dt>Durchschnittsgehalt</dt><dd>{durchschnittsgehalt_2014}</dd>\
      <dt>Gesamtbezüge</dt><dd>{gesamtbezuege_2014}</dd>\
      <dt>Bilanzsumme</dt><dd>{bilanzsumme_2014}</dd>\
      <dt>Mitarbeiter</dt><dd>{mitarbeiter_2014}</dd>\
      <dt>Vorstände</dt><dd>{anzahl_vorstaende_2014}</dd></dl>',
    position: {
      bottom: 40,
      right: 20
    }
  },
  search: {
    searchCols: ['sparkasse'],
    position: {
      top: 20,
      right: 20
    },
    description: 'Suche nach Deiner Sparkasse oder Postleitzahl'
  },
  xTicks: 0,
  xLabel: 'Größe der Sparkasse',
  yLabel: 'Durchschnittliches Vorstandsgehalt in T. €'
});



renderChart({
  kind: 'barChart',
  elementId: 'vorstaende-chart--3',
  dataUrl: 'data/vorstaende/bezuege_quote_barchart.csv',
  width: 800,
  height: 400,
  xCol: 'name',
  yCol: 'bezuege_quote_zu_2013',
  showXAxis: false,
  color: function(d) {
    return d.state === 'Hessen' ? correctivColors.red : correctivColors.blue;
  },
  filter: function(d) {
    return (d.state === 'Nordrhein-Westfalen') || (d.state === 'Hessen')
  },
  labelCol: 'name',
  tooltip: {
    position: {
      top: 20,
      left: 50
    },
    bodyTempl: '<strong>{sparkasse}</strong>\
        <dl><dt>Quote</dt><dd>{bezuege_quote_str}</dd>\
        <dt>Grundgehalt 2013</dt><dd>{feste_bezuege_2013_str}</dd>\
        <dt>Erfolgsabhängige Bezüge 2014</dt><dd>{erfolgsabhaengige_bezuege_str}</dd>\
        <dt>Position</dt><dd>{position}</dd>\
        <dt>Bundesland</dt><dd>{state}</dd></dl>'
  },
  search: {
    searchCols: ['name', 'sparkasse'],
    position: {
      top: 20,
      right: 30
    },
    description: 'Gib einen Namen oder eine Sparkasse ein',
    resultTempl: '{name} ({sparkasse})'
  },
  yLabel: 'Anteil erfolgsabhängiger Bezüge am Grundgehalt in Prozent'

});


  </script>
</body>
</html>
